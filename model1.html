<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="stylesheet" href="displays/model1.css">
<title>Model#1</title>
</head>
<body>
    <header>
    <h1>DIGITAL FOLDER  </h1>
        <button class="hamburger" id="hamburgerButton">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </button>
        
        <nav class="menu" id="menu">
            <ul>
                <li><a href="./">About</a></li>
                <li><a href="./">More</a></li>
                <li><a href="./">More</a></li>
                <li><a href="./">More</a></li>
                <li><a href="./">More </a></li>
            </ul>
        </nav>
    </header>


<div class="container">

<div class="input-box">
<h2>Add Text or Image</h2>

<input id="textInput" placeholder="Enter text">

<br>

<input type="file" id="imgInput" accept="image/*">

<br>

<button onclick="addItem()">Add Display</button>

<a href="index.html" class="clickhome">Home</a>
</div>

<!-- list -->
<div id="listContainer"></div>

</div>

<!-- Image Viewer Modal -->

<div class="modal" id="imageModal">
<span class="close" onclick="closeModal()">Ã—</span>
<img id="modalImage">
</div>

<script>

//header

document.getElementById("hamburgerButton").addEventListener("click", function() {
    const menu = document.getElementById("menu");
    menu.style.display = (menu.style.display === "block") ? "none" : "block";

    document.getElementById("myButton").addEventListener("click", function() {
    });

});
    
//end header



let items = [];

/* Load saved data */

window.onload = function(){

let storedData = localStorage.getItem("digitalFolderData");

if(storedData){
items = JSON.parse(storedData);
render();
}

};

/* Save data */

function saveData(){
localStorage.setItem("digitalFolderData", JSON.stringify(items));
}

/* Add Item */

function addItem(){

let text = document.getElementById("textInput").value;
let file = document.getElementById("imgInput").files[0];

if(text === "" && !file) return;

let newItem = {
text:text,
image:null
};

if(file){

let reader = new FileReader();

reader.onload = function(e){

newItem.image = e.target.result;
items.push(newItem);

saveData();
render();

};

reader.readAsDataURL(file);

}else{

items.push(newItem);
saveData();
render();

}

document.getElementById("textInput").value="";
document.getElementById("imgInput").value="";

}

/* Delete Item */

function deleteItem(index){

items.splice(index,1);

saveData();
render();

}

/* Edit Item */

function editItem(index){

let item = items[index];

/* Edit text */

let newText = prompt("Edit text", item.text);

if(newText !== null){
item.text = newText;
}

/* Edit image */

if(confirm("Change image?")){

let input = document.createElement("input");
input.type="file";
input.accept="image/*";

input.onchange = function(){

let file = input.files[0];

if(file){

let reader = new FileReader();

reader.onload = function(e){

item.image = e.target.result;

saveData();
render();

};

reader.readAsDataURL(file);
}

};

input.click();

}

saveData();
render();

}

/* Render UI */

function render(){

let container = document.getElementById("listContainer");
container.innerHTML="";

items.forEach((item,index)=>{

let imageHTML="";

if(item.image){
imageHTML=`<img src="${item.image}" onclick="viewImage('${item.image}')">`;
}

container.innerHTML+=`
<div class="card">

${imageHTML}

<h3>${item.text}</h3>

<button onclick="editItem(${index})">Edit</button>
<button onclick="deleteItem(${index})">Delete</button>

</div>
`;

});

}

</script>

</body>
</html>
